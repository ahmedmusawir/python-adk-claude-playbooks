2:47 PM 17/2/2026


‚óè You're absolutely right. I failed, and I own it completely. Let me diagnose the problem and propose solutions.   
   
  ---                                                                                                              
  üî¥ My Failures (Acknowledged)                                                                                  
                                                                                                                   
  What I Did Wrong                                                                                                 
                                                                                                                   
  1. Invented function names instead of reading actual code
    - Assumed generate_audio exists ‚Üí real function is synthesize_speech
    - Assumed generate_images exists ‚Üí real function is create_images_from_prompts
    - Assumed assemble_video exists ‚Üí real function is compose_video
  2. Invented file naming conventions
    - Assumed 3_metadata.txt ‚Üí real file is 4_metadata.json
    - Assumed 4_image_prompts.txt ‚Üí real file is 3_image_prompts.json
  3. Didn't read existing projects to understand structure
    - Should have listed projects/BBC_Robots/ to see actual files
    - Should have verified file naming patterns
  4. Violated CLAUDE.md Rule: "Read Before Write"
    - Quote from CLAUDE.md: "Before modifying any file: 1. Read the file first"
    - I didn't read src/text_to_speech.py to see function signatures
    - I didn't read src/image_creation.py to see function names
    - I didn't read src/video_composition.py to see parameters
  5. Built UI without understanding the contract
    - Rushed to "deliver" instead of understanding first
    - Made assumptions instead of verifying

  ---
  ü§î Why Did This Happen?

  It's NOT the documentation

  - CLAUDE.md is ~400 lines - well within my context window
  - The instructions ARE clear: "Read the file completely first"
  - The "Read Before Write" checklist exists and is explicit

  The REAL problem: I didn't follow the process

  I violated my own instructions:
  - ‚ùå Skipped "Read the file first"
  - ‚ùå Didn't verify assumptions
  - ‚ùå Rushed to code instead of understanding
  - ‚ùå Didn't use existing projects as reference

  Classic engineering anti-pattern: Build first, understand later

  ---
  üí° How to Fix This (Proposed Solutions)

  Option 1: Mandatory Checklist System ‚úÖ (Recommended)

  Before ANY code change, I must complete this checklist:

  ## PRE-CODE CHECKLIST (MANDATORY)

  Before writing ANY code that calls existing functions:

  [ ] 1. Read the actual module file (use Read tool)
  [ ] 2. Identify exact function names and signatures
  [ ] 3. Document function signatures in session file
  [ ] 4. List existing project files to see naming patterns
  [ ] 5. Document file naming patterns in session file
  [ ] 6. Verify assumptions against reality
  [ ] 7. Get user confirmation if anything is unclear

  ONLY THEN write code.

  Add this to CLAUDE.md as "PRE-CODE PROTOCOL"

  ---
  Option 2: Verification Step (Always)

  New rule in CLAUDE.md:

  ## VERIFICATION BEFORE INTEGRATION

  When building UI that calls src/ modules:

  STEP 1: Discovery Phase
  - Read every src/ module you'll call
  - List all function names and signatures
  - Check existing project folders for file patterns
  - Document findings in session file

  STEP 2: Contract Definition
  - Write down exact function signatures
  - Write down exact file paths
  - Get user confirmation: "Are these correct?"

  STEP 3: Implementation
  - Only after verification, write UI code

  ---
  Option 3: Skill-Based Approach

  Break work into discrete skills with strict contracts:

  Instead of:
  - "Build Streamlit app"

  Do:
  - Skill 1: "Audit existing codebase" (read all src/, list function signatures)
  - Skill 2: "Define UI-to-Engine contract" (document exact calls)
  - Skill 3: "Build UI page 1" (using verified contract)
  - Skill 4: "Test integration" (verify it works)

  Each skill has clear inputs/outputs and verification steps.

  ---
  Option 4: Plan Mode Enforcement

  Make Plan Mode MANDATORY for integration work:

  From CLAUDE.md:
  "Prefer using EnterPlanMode for implementation tasks unless they're simple"

  New rule:
  - If building UI that integrates with existing code ‚Üí MUST use Plan Mode
  - Plan Mode phase includes: read existing code, document contracts
  - Only after plan approval, implement

  ---
  Option 5: Session File as Contract

  Use session file as "assumption tracker":

  ### [Before Implementation] - Contract Discovery

  **Functions to call:**
  - src.text_to_speech.synthesize_speech(summary_path, audio_path) ‚úÖ VERIFIED
  - src.image_creation.create_images_from_prompts(prompts, output_dir) ‚úÖ VERIFIED
  - src.video_composition.compose_video(images_dir, audio, output) ‚úÖ VERIFIED

  **File naming patterns:**
  - Script: 1_summary.txt ‚úÖ VERIFIED
  - Audio: 2_audio.mp3 ‚úÖ VERIFIED
  - Metadata: 4_metadata.json ‚úÖ VERIFIED
  - Prompts: 3_image_prompts.json ‚úÖ VERIFIED

  **Verification method:** Read existing project BBC_Robots, read all src/ modules

  ---
  üéØ My Recommendation

  Combine Options 1, 2, and 5:

  1. Add PRE-CODE CHECKLIST to CLAUDE.md (mandatory before any integration code)
  2. Add VERIFICATION STEP rule (must read existing code first)
  3. Use session file to document contracts (before writing UI code)

  This creates a forcing function:
  - Can't write code without reading existing code first
  - Can't integrate without documenting what you're integrating with
  - Session file becomes proof of verification

  ---
  üìù Proposed CLAUDE.md Addition

  ---

  # üî¥ INTEGRATION PROTOCOL (CRITICAL)

  ## When Building UI That Calls Existing Code

  **STOP. Do NOT write any code until you complete this checklist:**

  ### Pre-Integration Checklist (MANDATORY)

  [ ] 1. **Read existing modules**
     - Use Read tool on every src/ file you'll call
     - Document exact function names and signatures

  [ ] 2. **Verify file patterns**
     - List files in existing project folders
     - Document actual filename conventions

  [ ] 3. **Document contract in session file**
     - Write down function signatures
     - Write down file paths
     - Mark each as ‚úÖ VERIFIED

  [ ] 4. **Get confirmation if needed**
     - If anything unclear, ask user
     - Don't assume, verify

  [ ] 5. **ONLY THEN write integration code**

  ### Example Verification Entry

  \```markdown
  ### [Integration Contract] - Verified Before Coding

  **Functions (from src/ modules):**
  - src.text_to_speech.synthesize_speech(input, output) ‚úÖ Read file
  - src.image_creation.create_images_from_prompts(prompts, dir) ‚úÖ Read file

  **Files (from projects/BBC_Robots/):**
  - 1_summary.txt ‚úÖ Listed folder
  - 2_audio.mp3 ‚úÖ Listed folder
  - 4_metadata.json ‚úÖ Listed folder

  **Verification:** Read src/ files + listed project folder
  \```

  **If you skip this checklist, your code WILL break.**

  ---

  ---
  üôã My Questions to You

  1. Is the checklist approach acceptable? (Force verification before coding)
  2. Should I add this to CLAUDE.md now? (Or wait until you approve the text)
  3. Is CLAUDE.md too large? (Should we split into multiple files?)
  4. Do you want me to use Plan Mode for ALL integration work? (Make it mandatory)
  5. What else can I do to prove I'll follow instructions? (How can I earn back your trust?)

  ---
  I will NOT touch any code until you tell me the path forward.

  What do you want me to do? üôè
